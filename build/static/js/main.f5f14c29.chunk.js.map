{"version":3,"sources":["components/ApiConnection.js","components/DeleteNumber.js","components/Filter.js","components/PersonForm.js","components/ModifyNumber.js","components/Notification.js","components/App.js","index.js"],"names":["url","axios","get","then","response","data","newObject","post","id","request","delete","console","log","put","name","setErrorMessage","window","confirm","ApiConnection","setTimeout","location","reload","bind","Filter","filter","filterHandler","value","onChange","PersonForm","number","noteAdder","nameHandler","numberHandler","onSubmit","type","noteItem","Notification","message","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","setFilter","errorMessage","useEffect","numberService","numbers","numbersToShow","person","includes","e","target","preventDefault","some","ModifyNumber","returnedNumber","concat","map","onClick","DeleteNumber","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.f5f14c29.chunk.js","sourcesContent":["import axios from 'axios'\r\nconst url = 'http://localhost:3001/api/persons'\r\n\r\nconst getNumbers = () => {\r\n    const request = axios.get(url)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst create = newObject => {\r\n    const request = axios.post(url, newObject)\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst remove = (id) => {\r\n    const request = axios.delete(`${url}/${id}`)\r\n    console.log('deleted')\r\n    return request.then(response => response.data)\r\n}\r\n\r\nconst modify = (id, newObject) => {\r\n    axios.put(`${url}/${id}`, newObject)\r\n    console.log('modified')\r\n}\r\n\r\nexport default { getNumbers, create, remove, modify }","import ApiConnection from './ApiConnection'\r\n\r\nconst removeNumber = (id, name, {setErrorMessage}) => {\r\n    const result = window.confirm(`Delete ${name}?`)\r\n    if (result) {\r\n        ApiConnection.remove(id)\r\n        setErrorMessage(`${name} removed`)\r\n        setTimeout(function() {\r\n            window.location.reload()\r\n        }.bind(this), 4000)\r\n    }\r\n}\r\n\r\nexport default { removeNumber }","import React from 'react'\r\n\r\nconst Filter = ( { filter, filterHandler }) => {\r\n\r\n    return(\r\n        <div>\r\n            Filter: <input value={filter} onChange={filterHandler}/>\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ name, number, noteAdder, nameHandler, numberHandler}) => {\r\n    return(\r\n        <form onSubmit={noteAdder} >\r\n            <div>\r\n                name: <input value={name} onChange={nameHandler} />\r\n            </div>\r\n            <div>\r\n                number: <input value={number} onChange={numberHandler} />\r\n            </div>\r\n            <div> \r\n                <button type=\"submit\">add</button>\r\n            </div>\r\n        </form>\r\n    )\r\n}\r\n\r\nexport default PersonForm","import ApiConnection from './ApiConnection'\r\n\r\nconst modifyNumber = noteItem => {\r\n    const result = window.confirm(`${noteItem.name} is already added to phonebook, replace the old number with a new one?`)\r\n    if (result) {\r\n        ApiConnection.modify(noteItem.id, noteItem)\r\n        setTimeout(function() {\r\n            window.location.reload()\r\n        }.bind(this), 4000)\r\n    }\r\n}\r\n\r\nexport default { modifyNumber }","import './app.css'\r\n\r\nconst Notification = ({ message }) => {\r\n    if (message === null) {\r\n        return null\r\n    }\r\n\r\n    return (\r\n        <div className=\"error\">\r\n            {message}\r\n        </div>\r\n    )\r\n}\r\n\r\nexport default Notification","import React, { useState, useEffect } from 'react'\r\nimport Note from './Note'\r\nimport Filter from './Filter'\r\nimport PersonForm from './PersonForm'\r\nimport numberService from './ApiConnection'\r\nimport ModifyNumber from './ModifyNumber'\r\nimport Notification from './Notification'\r\nimport DeleteNumber from './DeleteNumber'\r\n\r\nconst App = () => {\r\n  const [persons, setPersons] = useState([])\r\n  const [ newName, setNewName ] = useState('')\r\n  const [ newNumber, setNewNumber ] = useState('')\r\n  const [ filter, setFilter] = useState('')\r\n  const [ errorMessage, setErrorMessage] = useState('')\r\n\r\n  useEffect(() => {\r\n    numberService.getNumbers()\r\n      .then(numbers => {\r\n        setPersons(numbers)\r\n      })\r\n  }, []);\r\n\r\n  const numbersToShow = filter === ''\r\n      ? persons\r\n      : persons.filter(person => person.name.includes(filter));\r\n\r\n  const addNumber = (e) => {\r\n    e.preventDefault()\r\n    if(persons.some(person => person.name === newName)) {\r\n        persons.some(person => {\r\n          if(person.name === newName) {\r\n            person.number = newNumber\r\n            ModifyNumber.modifyNumber(person)\r\n            setErrorMessage(`Kontaktin ${person.name} numero on muutettu`)\r\n          }\r\n        })\r\n    } else {\r\n        const personObject = {\r\n            name: newName ,\r\n            number: newNumber\r\n        }\r\n        numberService.create(personObject)\r\n          .then(returnedNumber => {\r\n            setPersons(persons.concat(returnedNumber))\r\n            setNewNumber('')\r\n            setNewName('')\r\n            setErrorMessage(`Numero lisÃ¤tty`)\r\n            setTimeout(function() {\r\n              setErrorMessage()\r\n            }.bind(this), 4000)\r\n          })\r\n    }\r\n  };\r\n\r\n  const handleNameChange = (e) => {\r\n      console.log(e.target.value)\r\n      setNewName(e.target.value)\r\n  };\r\n\r\n  const handleNumberChange = (e) => {\r\n    console.log(e.target.value)\r\n    setNewNumber(e.target.value)\r\n  };\r\n\r\n  const handleFilterChange = (e) => {\r\n    console.log(e.target.value)\r\n    setFilter(e.target.value)\r\n  };\r\n\r\n  return (\r\n    <div>\r\n        <h2>Phonebook</h2>\r\n        <Notification message={errorMessage} />\r\n        <Filter filter={filter} filterHandler={handleFilterChange} />\r\n        <h2>Add a new contact</h2>\r\n        <PersonForm noteAdder={addNumber} nameHandler={handleNameChange} numberHandler={handleNumberChange}\r\n                    number={newNumber} name={newName}/>\r\n        <h2>Numbers</h2>\r\n        {numbersToShow.map(noteItem => (\r\n            <li key={noteItem.name}>\r\n                {noteItem.name} {noteItem.number} \r\n                <button onClick={() => DeleteNumber.removeNumber(noteItem.id, noteItem.name, {setErrorMessage})}>Delete</button>\r\n            </li>\r\n        ))}\r\n    </div>\r\n  )\r\n};\r\n\r\nexport default App","import React from 'react'\r\nimport ReactDOM from 'react-dom'\r\nimport App from './components/App'\r\n\r\nReactDOM.render(<App />, document.getElementById('root'))\r\n"],"sourceRoot":""}